<h2>Lista de Filmes</h2>

<div *ngIf="loading">Carregando filmes...</div>
<div *ngIf="error" style="color:red">{{ error }}</div>

<ul *ngIf="!loading && !error">
  <li *ngFor="let m of movies" style="margin-bottom:1rem">
    <strong>{{ m.nome }}</strong> ({{ m.anoLancamento }})<br/>
    <span *ngIf="m.descricao">{{ m.descricao }}</span><br/>
    <small>Gênero: {{ m.genero }}</small><br/>
    <button
      (click)="favorite(m)"
      [disabled]="favIds.has(m.id)"
    >
      Favoritar
    </button>
  </li>
</ul>

<div style="margin-top:1rem">
  <a routerLink="/favorites">Ver Meus Favoritos →</a>
</div>